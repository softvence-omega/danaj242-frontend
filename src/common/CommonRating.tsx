interface RatingComponentProps {
  rating: number;
  maxRating?: number;
  size?: number;
}

export default function RatingComponent({
  rating,
  maxRating = 5,
  size = 16,
}: RatingComponentProps) {
  const stars = [];

  for (let i = 1; i <= maxRating; i++) {
    const fillPercentage = Math.min(Math.max(rating - (i - 1), 0), 1) * 100;

    stars.push(
      <div
        key={i}
        className="relative inline-block"
        style={{ width: size, height: size }}
      >
        <svg
          width={size}
          height={size}
          viewBox="0 0 16 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="absolute top-0 left-0"
        >
          <path
            d="M8.04183 0.316406C8.73184 0.589529 8.96143 1.09177 9.27428 1.73177C9.35199 1.93597 9.42852 2.14061 9.50416 2.34558C9.9239 3.52102 9.9239 3.52102 10.7939 4.34835C11.4553 4.55301 12.1289 4.60596 12.8176 4.64058C13.2293 4.66491 13.6264 4.73316 14.0308 4.81284C14.1448 4.8319 14.2588 4.85097 14.3762 4.87061C14.7352 4.98976 14.8963 5.13246 15.1284 5.42905C15.2335 5.96478 15.2432 6.32488 14.9461 6.79748C14.5325 7.28741 14.1013 7.69974 13.5957 8.0955C12.7083 8.75837 12.7083 8.75837 12.2706 9.7245C12.3092 10.2099 12.3952 10.6558 12.5095 11.129C12.5695 11.4528 12.6273 11.7769 12.6828 12.1015C12.709 12.2532 12.7352 12.4049 12.7622 12.5612C12.8369 13.1232 12.8257 13.5117 12.6635 14.056C12.4132 14.3642 12.4132 14.3642 12.0473 14.5182C10.9066 14.4743 10.0658 13.9093 9.09736 13.3502C8.97264 13.2809 8.84793 13.2116 8.71944 13.1402C8.55184 13.0436 8.55184 13.0436 8.38086 12.9451C7.84775 12.7541 7.4627 12.8901 6.9608 13.12C6.86197 13.1763 6.76315 13.2326 6.66133 13.2906C6.55052 13.352 6.43971 13.4133 6.32554 13.4765C6.09697 13.6056 5.86869 13.7352 5.64071 13.8653C4.94933 14.2468 4.38001 14.4787 3.57418 14.5182C3.2083 14.3545 3.2083 14.3545 2.95795 14.056C2.73856 13.2429 2.86787 12.5624 3.02535 11.7549C3.28418 10.5234 3.28418 10.5234 3.26607 9.28039C2.99696 8.88521 2.66672 8.57892 2.31284 8.25979C2.22377 8.17559 2.13471 8.09139 2.04294 8.00464C1.63756 7.62171 1.22716 7.24432 0.817406 6.86608C0.493044 6.50743 0.493044 6.50743 0.416016 5.94899C0.498484 5.39234 0.523721 5.29132 0.955214 4.96689C1.33975 4.86031 1.33975 4.86031 1.7929 4.79238C1.95614 4.76676 2.11938 4.74115 2.28757 4.71475C2.45795 4.68993 2.62834 4.66511 2.8039 4.63953C3.14094 4.58807 3.47794 4.53633 3.81489 4.48427C3.96443 4.46221 4.11397 4.44014 4.26804 4.4174C4.67087 4.35737 4.67087 4.35737 5.11475 4.19663C5.32433 3.86667 5.32433 3.86667 5.5035 3.45645C5.57499 3.30612 5.64648 3.15579 5.72014 3.00091C5.86791 2.68262 6.01515 2.36408 6.16185 2.0453C6.23374 1.89457 6.30563 1.74384 6.3797 1.58855C6.44372 1.44996 6.50774 1.31138 6.5737 1.16859C6.94951 0.592716 7.35989 0.359026 8.04183 0.316406Z"
            fill="rgba(255, 255, 255, 0.3)"
            stroke="rgba(255, 255, 255, 0.5)"
            strokeWidth="0.5"
          />
        </svg>

        <div
          className="absolute top-0 left-0 overflow-hidden"
          style={{ width: `${fillPercentage}%`, height: "100%" }}
        >
          <svg
            width={size}
            height={size}
            viewBox="0 0 16 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.04183 0.316406C8.73184 0.589529 8.96143 1.09177 9.27428 1.73177C9.35199 1.93597 9.42852 2.14061 9.50416 2.34558C9.9239 3.52102 9.9239 3.52102 10.7939 4.34835C11.4553 4.55301 12.1289 4.60596 12.8176 4.64058C13.2293 4.66491 13.6264 4.73316 14.0308 4.81284C14.1448 4.8319 14.2588 4.85097 14.3762 4.87061C14.7352 4.98976 14.8963 5.13246 15.1284 5.42905C15.2335 5.96478 15.2432 6.32488 14.9461 6.79748C14.5325 7.28741 14.1013 7.69974 13.5957 8.0955C12.7083 8.75837 12.7083 8.75837 12.2706 9.7245C12.3092 10.2099 12.3952 10.6558 12.5095 11.129C12.5695 11.4528 12.6273 11.7769 12.6828 12.1015C12.709 12.2532 12.7352 12.4049 12.7622 12.5612C12.8369 13.1232 12.8257 13.5117 12.6635 14.056C12.4132 14.3642 12.4132 14.3642 12.0473 14.5182C10.9066 14.4743 10.0658 13.9093 9.09736 13.3502C8.97264 13.2809 8.84793 13.2116 8.71944 13.1402C8.55184 13.0436 8.55184 13.0436 8.38086 12.9451C7.84775 12.7541 7.4627 12.8901 6.9608 13.12C6.86197 13.1763 6.76315 13.2326 6.66133 13.2906C6.55052 13.352 6.43971 13.4133 6.32554 13.4765C6.09697 13.6056 5.86869 13.7352 5.64071 13.8653C4.94933 14.2468 4.38001 14.4787 3.57418 14.5182C3.2083 14.3545 3.2083 14.3545 2.95795 14.056C2.73856 13.2429 2.86787 12.5624 3.02535 11.7549C3.28418 10.5234 3.28418 10.5234 3.26607 9.28039C2.99696 8.88521 2.66672 8.57892 2.31284 8.25979C2.22377 8.17559 2.13471 8.09139 2.04294 8.00464C1.63756 7.62171 1.22716 7.24432 0.817406 6.86608C0.493044 6.50743 0.493044 6.50743 0.416016 5.94899C0.498484 5.39234 0.523721 5.29132 0.955214 4.96689C1.33975 4.86031 1.33975 4.86031 1.7929 4.79238C1.95614 4.76676 2.11938 4.74115 2.28757 4.71475C2.45795 4.68993 2.62834 4.66511 2.8039 4.63953C3.14094 4.58807 3.47794 4.53633 3.81489 4.48427C3.96443 4.46221 4.11397 4.44014 4.26804 4.4174C4.67087 4.35737 4.67087 4.35737 5.11475 4.19663C5.32433 3.86667 5.32433 3.86667 5.5035 3.45645C5.57499 3.30612 5.64648 3.15579 5.72014 3.00091C5.86791 2.68262 6.01515 2.36408 6.16185 2.0453C6.23374 1.89457 6.30563 1.74384 6.3797 1.58855C6.44372 1.44996 6.50774 1.31138 6.5737 1.16859C6.94951 0.592716 7.35989 0.359026 8.04183 0.316406Z"
              fill="#38B6FF"
            />
          </svg>
        </div>
      </div>
    );
  }

  return <div className="flex items-center gap-1">{stars}</div>;
}
